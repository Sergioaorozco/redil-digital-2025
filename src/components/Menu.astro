---

---

<button id="modalMenuButton" class="nav-button menu transition-all duration-200"
  >Menu</button
>
<div
  id="modalMenu"
  class="z-20 min-w-full h-dvh bg-gradient-to-b from-blue-50 to-blue-200 dark:from-slate-950 dark:to-slate-700 fixed top-0 right-0 left-0 bottom-0"
>
  <span class="flex flex-col px-10 py-5">
    <button
      id="modalClose"
      class="nav-button menu transition-all duration-200 self-end cursor-pointer dark:text-slate-200"
      >Cerrar</button
    >
    <ul class="menu-list text-slate-900 dark:text-slate-300 flex flex-col">
      <li><a href="/" referrerpolicy="no-referrer">Inicio</a></li>
      <li><a href="/iglesia" referrerpolicy="no-referrer">Nuestra Iglesia</a></li>
      <li><a href="/ministerios" referrerpolicy="no-referrer">Ministerios</a></li>
      <li><a href="/miembros" referrerpolicy="no-referrer">Miembros</a></li>
    </ul>
  </span>
</div>

<script>
  import { gsap } from "gsap";
  document.addEventListener("astro:page-load", () => {
    // Selectors
    const $modalMenuBtn = document.getElementById("modalMenuButton");
    const $modalCloseBtn = document.getElementById("modalClose");
    const $modal = document.getElementById("modalMenu");
    let modalIsOpened = false;

    function toggleModal() {
      modalIsOpened = !modalIsOpened;
      if (modalIsOpened) {
        tl.play();
      } else {
        tl.reverse();
      }
    }

    $modalMenuBtn?.addEventListener("click", toggleModal);
    $modalCloseBtn?.addEventListener("click", toggleModal);

    // Gsap Set initial state of the modal
    gsap.set($modal, {
      display: "block",
      opacity: 0,
      visibility: "hidden",
    });

    // Gsap Timeline
    const tl = gsap.timeline({
      paused: true,
      onStart: () => {
        gsap.set($modal, {
          visibility: "visible",
        });
      },
      onReverseComplete: () => {
        gsap.set($modal, {
          visibility: "hidden",
        });
      },
    });

    // Modal animation: fade in
    tl.to($modal, {
      duration: 0.5,
      opacity: 1,
      ease: "power2.inOut",
    });
  });
</script>

<style scoped>
  @import "tailwindcss";

  .menu-list {
    li {
      @apply text-4xl min-md:text-7xl font-bold py-10 border-b border-slate-200 dark:border-slate-500;
      @apply hover:text-slate-950 dark:hover:text-slate-800 cursor-pointer;
      &:last-child {
        @apply border-b-0;
      }
      a {
        @apply w-full h-full block;
      }
    }
  }
</style>