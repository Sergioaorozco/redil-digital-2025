---
import Layout from "@/layouts/Layout.astro";
import PlayTriangleIcon from "@/assets/PlayTriangleIcon.astro";
import RightArrow from "@/assets/RightArrow.astro";

import { Image } from "astro:assets";

import NavRedilLaureles from '@/images/iglesia/nav-redil-laureles.webp';
import RedilDonaciones from '@/images/iglesia/nav-redil-donacion.webp';
import Iglesia2025 from 'src/images/iglesia/miembros-2024.webp';

---

<Layout>
  <!-- Main section -->
  <section class="px-5 gap-5 flex flex-col h-full md:flex-row justify-between w-full text-center md:text-start text-balance">
    <mux-player
      class="w-full md:w-1/2 h-full aspect-video rounded-lg overflow-hidden"
      transition:persist
      playback-id="95z01EoGdAX016GT3Q2OOCU02laIR00pYu5Bg8ZGIVbGpdY"
      metadata-video-id="gyHz5fiii9lXqFcCCTZ1dCdydp9R02TNf94BtPAjn01Hs"
      metadata-video-title="video-iglesia-hero"
      autoplay
      muted
      loop
    ></mux-player>
    <article class="text-center flex flex-col justify-center items-center">
      <p class="text 4xl md:text-5xl font-bold mb-3 text-blue-700 dark:text-amber-300">Bienvenido al Redil Laureles</p>
      <p class="text-lg md:text-xl">
        Damos gracias a Dios por tu visita. Esperamos que este espacio sea
        de mucha bendición para tu vida.
      </p>
      <p class="text-lg md:text-xl mt-4">
        Te invitamos a conocer quiénes somos y a explorar los recursos que
        tenemos para ti. ¡Siéntete bienvenido!
      </p>
      <span class="flex-responsive gap-3 mt-5">
        <p class="r-well font-bold">
          Domingo Celebraciones: 9AM | 11AM
        </p>
        <p class="r-well font-bold">
          Miércoles - Rebaño: 7:00 PM
        </p>
      </span>
    </article>
  </section>
  <section class="my-6 px-8 flex-responsive gap-4">
    <article class="w-full h-40 min-md:h-60">
      <a
        aria-label="see last preech video"
        id="modal-index"
        class="last-preech-link bg-neutral-800 group cursor-behavior rounded-md h-full w-full flex items-end justify-start overflow-clip relative"
      >
        <Image
          class="dark:group-hover:brightness-50 group-hover:scale-105 transition-all duration-300 w-full h-full object-cover mask-b-from-0 absolute"
          src={Iglesia2025}
          height="611"
          decoding="async"
          loading="lazy"
          width="916"
          alt="Miembros de la iglesia redil laureles en una asamblea"
        />
        <div
          class="w-full p-5 absolute flex flex-row justify-between items-center gap-4 text-responsive bg-responsive picture-background"
        >
          <p
            class="group-hover:block ease-in-out transition-all duration-150 font-bold min-md:text-2xl text-lg"
          >
            Ver última predicación
          </p>
          <span
            class="hover-icon dark:group-hover:text-neutral-800 rounded-full p-2 bg-zinc-600 group-hover:bg-blue-600 dark:group-hover:bg-amber-300 transition-all duration-200"
          >
            <PlayTriangleIcon />
          </span>
        </div>
      </a>
    </article>
    <article class="w-full h-40 min-md:h-60">
      <a
        href="/iglesia"
        rel="prefetch"
        aria-label="read more about our community"
        class="bg-neutral-800 group cursor-behavior rounded-md h-full w-full flex items-end justify-start overflow-clip relative"
      >
        <Image
          class="dark:group-hover:brightness-50 group-hover:scale-105 transition-all duration-300 w-full h-full object-cover mask-b-from-0 absolute"
          src={NavRedilLaureles}
          height="611"
          width="916"
          decoding="async"
          loading="lazy"
          alt="Asistentes a la iglesia redil laureles al exterior de la sede"
        />
        <div
          class="w-full p-5 absolute flex flex-row justify-between items-center gap-4 text-responsive bg-responsive picture-background"
        >
          <p
            class="group-hover:block ease-in-out transition-all duration-150 font-bold min-md:text-2xl text-lg"
          >
            Nuestra Iglesia
          </p>
          <span class="hover-icon">
            <RightArrow />
          </span>
        </div>
      </a>
    </article>
    <article class="w-full h-40 min-md:h-60">
      <a
        href="/iglesia"
        rel="prefetch"
        aria-label="Learn more about donations"
        class="bg-neutral-800 group cursor-behavior rounded-md h-full w-full flex items-end justify-start overflow-clip relative"
      >
        <Image
          class="dark:group-hover:brightness-50 group-hover:scale-105 transition-all duration-300 w-full h-full object-cover mask-b-from-0 absolute"
          src={RedilDonaciones}
          height="611"
          decoding="async"
          loading="lazy"
          width="916"
          alt="Imagen alusiva a donaciones"
        />
        <div
          class="w-full p-5 absolute flex flex-row justify-between items-center gap-4 text-responsive bg-responsive picture-background"
        >
          <p
            class="group-hover:block ease-in-out transition-all duration-150 font-bold min-md:text-2xl text-lg"
          >
            Donaciones
          </p>
          <span class="hover-icon">
            <RightArrow />
          </span>
        </div>
      </a>
    </article>
  </section>
</Layout>


<script>
  import { isModalOpened } from "@/store";

  const modalButton = document.getElementById('modal-index');

  modalButton?.addEventListener("click", () => {
    isModalOpened.set(true);
  });
</script>